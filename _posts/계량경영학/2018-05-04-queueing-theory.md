---
layout: posts
title: Queueing Theory
categories: 계량경영학
tag : [queueingTheory]
use_math: true
---

# 0. Queueing Theory란 무엇인가
```
여기 은행이 하나가 있다.  
이 은행에는 총 3명의 은행원이 근무를 하고 있다.  
은행에 사람들이 몰리는 시간은 잠시 시간이 나는 12시부터 2시 사이,  
그리고 업무 종료 1시간 전인 3시부터 4시이다.  
그렇다면 사람들은 평균적으로 얼마나 기다릴까?  
```


#### 은행에서 사람들이 단 1초도 기다리지 않게 하려면  
#### 어떤 시간 t에서 고객의 수 n 보다 은행원의 수 s가 크거나 같아야 한다.  
#### 하지만 위의 은행 예시처럼, 모든 시간에 사람들이 동일하게 은행을 방문하지 않는다.  
#### 따라서 은행원을 고객들이 많이 방문하는 시간에 맞춰 고용하는 것은 비효율적이다.  
#### 이에 은행 등에는 필연적으로 대기열이 생긴다.  

#### 하지만 동시에, 은행에 너무 긴 대기열이 생기면,  
#### 이는 서비스 품질과도 연관이 있기 때문에 경쟁력이 약화된다.  
#### 그렇다면 적정 은행원의 수는 어떻게 구할 수 있을까 


```
한 공장이 있다. 
이 공장에서는 단일 종류의 기계 3개를 가지고 제품을 만드는데,  
기계는 일정확률로 고장이 난다.  
또한 제품의 수요 또한 계절별로 다르다.  
```
#### 이때 공장에 있는 기계는 3개가 과연 가장 효율적인 숫자일까?  
#### 기계를 처분하거나, 더 많이 구매하는 것이 효율적이지 않을까?  
#### 기계가 고장나는 상황까지 고려 할 수는 없을까?  

#### 위와 같은 문제는 기초적인 Queueing Theory에서 다루는 문제들이다.  
#### Queue란 한국어로 대기열과 비슷한 말이고,  
#### 이를 수학적으로 다루는 이론이 바로 Queueing Theory이다.  

![queue_basic](https://postfiles.pstatic.net/MjAxODA1MDRfMjY3/MDAxNTI1NDA3ODA5Mjgy.iODbor5N_XZxiFWkbtHgNqkdxdG3hQ4PhkCJDa_F2Zkg.ETBljtM9CH3HJtqsZ78cZ1zBCeYKTL3Pq9culRtkZdsg.JPEG.dreamistar7/queue_basic.JPG?type=w1)

---

# 1. Notation 

### 무엇보다도 먼저 Notation을 살펴보면, 
### 이해가 빠를 것 같다. 
###### 장담은 못하겠다. 

1. $$N(t)$$ : time t에 queueing system에 있는 사람의 수
2. $$P_n(t)$$ : time t에 queueing system에 n명의 사람이 있을 확률
3. $$s$$ : server의 수 
4. $$\lambda$$ : 단위시간 당 도착하는 고객의 평균 수 = 단위시간 당 떠나는 고객의 평균 수 
5. $$1/\lambda$$ : 평균적으로 고객이 도착하는 시간 
5. $$\mu$$ : 단위시간 당 떠나는 고객의 평균 수 
7. $$1/\mu$$ : 평균적으로 고객이 서비스를 받는 시간 
8.  $$L$$ : queueing system 안에 있는 고객 수의 기대값 : $$\sum_{n=0}^{\infty}{nP_n}$$
9. $$L_q$$ : 서비스를 받고 있는 고객들을 제외한, 기다리고 있는 사람(in queue / queue length) : $$\sum_{n=0}^{\infty}{(n-s)P_n}$$
10. $$W$$ : 한 고객이 시스템 안에서 머무르는 시간의 기대값 
11. $$W_q$$ : 한 고객이 queue안에서 기다리는 시간의 기대값
12. $$\rho = \lambda/s\mu$$ : 시스템 이용률 

#### 으 아직 모르겠다. 

---

# 2. Little's Law 
#### 이 하나의 법칙으로 평생을 잘 먹고 잘 산 Little님의 Law이다. 
#### 간단하다. 
1. $$ L = \lambda W$$
2. $$ L_q = \lambda W_q$$
3. $$ W = W_q + 1/\mu $$

#### 위의 식이 뜻하는 바는 다음과 같다. 
```
1. 전체 시스템에 있는 고객의 수는 단위시간 동안 도착하는 고객의 수와 한 고객이 시스템 안에서 머무르는 시간의 곱과 같다. 
2. 서비스를 받기 전 기다리는 고객의 수는 단위시간 동안 도착하는 고객의 수와 한 고객이 기다려야 하는 시간의 곱과 같다. 
3. 한 고객이 시스템 안에서 머무르는 시간은 서비스를 받기 전 기다려야 하는 시간과 평균적으로 고객이 서비스를 받는 시간의 합과 같다. 

#### 적고 보니 너무 당연한 이야기다. 










